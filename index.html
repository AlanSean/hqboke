<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <link rel="fluid-icon" href="//hqboke.cn/favicon.jpg" title="GitHub">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=yes">
    <link rel="shortcut icon" href="//hqboke.cn/favicon.jpg">
    <title>怂包</title>
    <link defer rel="manifest" href="/manifest.json">

    <style defer media="screen">
        *{
            margin: 0;
            padding: 0;
            background-color: #000;
        }
        html,body{
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
    </style>
    <script defer src="/js/index.js" type="text/javascript"></script>
</head>
<body>
    <noscript>
        您的禁用了js
    </noscript>
    <canvas id="stage" class="stage"></canvas>
    <script defer src="./js/jq.js"></script>
    <script defer src="./js/powder.js"></script>
    <script defer type="text/javascript">
        var n = 100;
        var v = new Stage("stage"),
            m = new Twinkle("#fff", 14, 1000),
            a = new  Fireworks(document.getElementById("stage"));
        var x,y,time;
        $(window).on("mousemove", function(e) {
            // m.mouse.update(e.clientX, e.clientY)
            a.updateFireworks()
        })
        time = setInterval(()=>{
            x = Math.random(1)*$('canvas').width();
            y = Math.abs((Math.random(1)*$('canvas').height())-$('canvas').height()/2);
            a.createFireworks(x,$('canvas').height(),x, y)
        },1000)
        document.addEventListener("webkitvisibilitychange", (event)=>{
          var hidden = event.target.webkitHidden;
              if (hidden){
              clearInterval(time);
            }else {
                time = setInterval(()=>{
                    x = Math.random(1)*$('canvas').width();
                    y = Math.abs((Math.random(1)*$('canvas').height())-$('canvas').height()/2);
                    a.createFireworks(x,$('canvas').height(),x, y)
                },1000)
            }
        }, false);
        v.onUpdate(function(e) {
            // m.render(e)
            a.render();
        })
        v.update();
    </script>
</body>
</html>
